@patch.object(OctaneApi, 'createTestSuite')
@patch.object(OctaneClient, 'upload')
@patch.object(OctaneClient, 'getOctaneIds')
def test_upload(self, mock_get_ids, mock_upload, mock_create_suite):
    # Mock `getOctaneIds` to return a valid iterable list
    mock_get_ids.return_value = [{"id": "OCT1", "jira_key_udf": "JIRA-1"}]

    # Mock `createTestSuite` return values
    mock_create_suite.return_value = ("APP1", "TS1")

    # Mock `upload` behavior
    mock_upload.return_value = None

    self.octane_api.octaneClient.getSuiteRun = MagicMock(return_value=[{"id": "SR1"}])

    # Call upload
    self.octane_api.upload("APP1", "suitePath", "suiteRun", [], ["JIRA-1"])

    # Ensure `upload` was called correctly
    self.octane_api.octaneClient.upload.assert_called_once()
