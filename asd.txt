@dag.cellfn
def Html(self):
    """
    Render the dynamic HTML for the browser.
    """
    t = self.Template()
    html_content = t.render(**self.TemplateParams())

    # Inject JavaScript for showing the popup if a message is set
    if hasattr(self, "popup_message") and self.popup_message:
        html_content += f"""
        <script>
            document.addEventListener("DOMContentLoaded", function() {{
                alert("{self.popup_message}");
            }});
        </script>
        """
    return html_content
